<!--Barre des championnats en mode LG-->
<div class="col-xs-10 visible-in-lg button-group">
  <div class="btn-group" role="group">
    <button type="button" ng-class="{'btn': true, 'btn-default': championship != ctrl.standingsService.currentChampionship, 'btn-primary': championship == ctrl.standingsService.currentChampionship}"
      ng-repeat="championship in ctrl.standingsService.championships track by $index" ng-click="ctrl.selectChampionship(championship)">
      {{ championship.Championnats_Nom }}
    </button>
  </div>
</div>

<!--Barre des journées en mode LG-->
<div class="col-xs-12 visible-in-lg">
  <div class="btn-group" role="group">
    <button type="button" ng-class="{'btn': true, 'btn-default': week.Journee != ctrl.standingsService.currentWeek.Journee || week.Classements_DateReference != ctrl.standingsService.currentWeek.Classements_DateReference, 'btn-warning': week.Journee == ctrl.standingsService.currentWeek.Journee && week.Classements_DateReference == ctrl.standingsService.currentWeek.Classements_DateReference}"
      ng-repeat="week in ctrl.standingsService.weeks track by $index" ng-click="ctrl.selectWeek(week, week.Classements_DateReference)">
      {{ week.Journees_NomCourt }}
    </button>
  </div>
</div>

<!--Barre des championnats, des journées et du type de classement à afficher en mode XS-->
<div class="col-xs-12 visible-in-xs button-group">
  <!--Liste des championnats en mode SM-->
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Champ. {{ctrl.standingsService.currentChampionship.Championnats_NomCourt}}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li ng-class="{'active': championship == ctrl.standingsService.currentChampionship}" ng-repeat="championship in ctrl.standingsService.championships track by $index">
        <a ng-click="ctrl.selectChampionship(championship)">{{ championship.Championnats_NomCourt }}</a>
      </li>
    </ul>
  </div>

  <!--Liste des journées en mode XS-->
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      J. {{ctrl.standingsService.currentWeek.Journees_NomCourt}}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li ng-class="{'active': week == ctrl.standingsService.currentWeek}" ng-repeat="week in ctrl.standingsService.weeks track by $index">
        <a ng-click="ctrl.selectWeek(week, week.Classements_DateReference)">{{ week.Journees_NomCourt }}</a>
      </li>
    </ul>
  </div>

  <!--Liste des types de classement en mode XS-->
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {{ctrl.standingsService.currentStandings.label}}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li ng-class="{'active': standings == ctrl.standingsService.currentStandings}" ng-repeat="standings in ctrl.standingsService.standingsType track by $index">
        <a ng-click="ctrl.selectStandings(standings)">{{ standings.label }}</a>
      </li>
    </ul>
  </div>
</div>

<!--Classements-->
<div ng-if="ctrl.standingsService.standings.length" class="content-all-standings">

  <div class="table-responsive col-xs-12 col-md-4 content-standing" ng-if="!ctrl.generalService.isSmallScreen() || ctrl.standingsService.currentStandings.value == 0" ng-scrollable="{scrollX:'none'}">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="col-xs-12" colspan="{{ ctrl.isFirstWeekSelected ? 4 : 5}}">GENERAL (MAJ {{ctrl.standingsService.currentUpdateTimeWeek | date : "dd/MM/yyyy HH:mm:ss"}})</th>
        </tr>
        <tr ng-show="!ctrl.isFirstWeekSelected">
          <th class="col-xs-1">CLT</th>
          <th class="col-xs-2">+/-</th>
          <th class="col-xs-5">PRONOSTIQUEURS</th>
          <th class="col-xs-2">GENERAL</th>
          <th class="col-xs-2">BUTEUR</th>
        </tr>
        <tr ng-show="ctrl.isFirstWeekSelected">
          <th class="col-xs-1">CLT</th>
          <th class="col-xs-7">PRONOSTIQUEURS</th>
          <th class="col-xs-2">GENERAL</th>
          <th class="col-xs-2">BUTEUR</th>
        </tr>
      </thead>
      <tbody ng-show="!ctrl.isFirstWeekSelected">
        <tr ng-repeat="standing in ctrl.standingsService.standings track by $index">
          <td class="col-xs-1">{{ standing.Classements_ClassementGeneralMatch }}</td>
          <td class="col-xs-2">
            <i ng-class="standing.Classement_Evolution > 0 ? 'text-success' : (standing.Classement_Evolution < 0 ? 'text-danger' : 'text-warning')"
              class="fa {{ standing.Classement_Evolution > 0 ? 'fa-arrow-up' : (standing.Classement_Evolution < 0 ? 'fa-arrow-down' : 'fa-arrow-right') }}"
              aria-hidden="true"></i>&nbsp; {{ standing.Classement_Evolution > 0 ? ("+" + standing.Classement_Evolution) : (standing.Classement_Evolution
              < 0 ? standing.Classement_Evolution : "&nbsp;") }} </td>
                <td class="col-xs-5">
                  <img class="standing-photo" ng-if="standing.Pronostiqueurs_Photo" ng-src="dist/images/pronostiqueurs/{{standing.Pronostiqueurs_Photo}}"
                    alt="Photo du pronostiqueur">
                    <img class="standing-photo" ng-if="!standing.Pronostiqueurs_Photo" ng-src="dist/images/pronostiqueurs/_inconnu.png" alt="Photo du pronostiqueur">                    &nbsp;{{ standing.Pronostiqueurs_NomUtilisateur }}
                </td>
                <td class="col-xs-2">{{ standing.Classements_PointsGeneralMatch }}</td>
                <td class="col-xs-2">{{ standing.Classements_PointsGeneralButeur }}</td>
        </tr>
      </tbody>
      <tbody ng-show="ctrl.isFirstWeekSelected">
        <tr ng-repeat="standing in ctrl.standingsService.standings track by $index">
          <td class="col-xs-1">{{ standing.Classements_ClassementGeneralMatch }}</td>
          <td class="col-xs-7">
            <img class="standing-photo" ng-if="standing.Pronostiqueurs_Photo" ng-src="dist/images/pronostiqueurs/{{standing.Pronostiqueurs_Photo}}"
              alt="Photo du pronostiqueur">
              <img class="standing-photo" ng-if="!standing.Pronostiqueurs_Photo" ng-src="dist/images/pronostiqueurs/_inconnu.png" alt="Photo du pronostiqueur">              &nbsp;{{ standing.Pronostiqueurs_NomUtilisateur }}
          </td>
          <td class="col-xs-2">{{ standing.Classements_PointsGeneralMatch }}</td>
          <td class="col-xs-2">{{ standing.Classements_PointsGeneralButeur }}</td>
        </tr>
      </tbody>

    </table>
  </div>

  <div class="table-responsive col-xs-12 col-md-4 content-standing" ng-if="!ctrl.generalService.isSmallScreen() || ctrl.standingsService.currentStandings.value == 1" ng-scrollable="{scrollX:'none'}">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th colspan="4">JOURNEE</th>
        </tr>
        <tr>
          <th>CLT</th>
          <th>PRONOSTIQUEURS</th>
          <th>JOURNEE</th>
          <th>BUTEUR</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="standingWeek in ctrl.standingsService.standingsWeek track by $index">
          <td>{{ standingWeek.Classements_ClassementJourneeMatch }}</td>
          <td ng-if="standingWeek.Pronostiqueurs_Photo">
            <img class="standing-photo" ng-src="dist/images/pronostiqueurs/{{standingWeek.Pronostiqueurs_Photo}}" alt="Photo du pronostiqueur">            &nbsp;{{ standingWeek.Pronostiqueurs_NomUtilisateur }}
          </td>
          <td ng-if="!standingWeek.Pronostiqueurs_Photo">
            <img class="standing-photo" ng-src="dist/images/pronostiqueurs/_inconnu.png" alt="Photo du pronostiqueur"> &nbsp;{{
            standingWeek.Pronostiqueurs_NomUtilisateur }}
          </td>
          <td>{{ standingWeek.Classements_PointsJourneeMatch }}</td>
          <td>{{ standingWeek.Classements_PointsJourneeButeur }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="table-responsive col-xs-12 col-md-4 content-standing" ng-if="!ctrl.generalService.isSmallScreen() || ctrl.standingsService.currentStandings.value == 2" ng-scrollable="{scrollX:'none'}">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th class="col-xs-12" colspan="{{ ctrl.isFirstWeekSelected ? 3 : 4}}">BUTEUR</th>
        </tr>
        <tr ng-show="!ctrl.isFirstWeekSelected">
          <th class="col-xs-1">CLT</th>
          <th class="col-xs-2">+/-</th>
          <th class="col-xs-5">PRONOSTIQUEURS</th>
          <th class="col-xs-4">GENERAL BUTEUR</th>
        </tr>
        <tr ng-show="ctrl.isFirstWeekSelected">
          <th class="col-xs-1">CLT</th>
          <th class="col-xs-7">PRONOSTIQUEURS</th>
          <th class="col-xs-4">GENERAL BUTEUR</th>
        </tr>
      </thead>
      <tbody ng-show="!ctrl.isFirstWeekSelected">
        <tr ng-repeat="standingGoal in ctrl.standingsService.standingsGoal track by $index">
          <td class="col-xs-1">{{ standingGoal.Classements_ClassementGeneralButeur }}</td>
          <td class="col-xs-2">
            <i ng-class="standingGoal.Classement_Evolution > 0 ? 'text-success' : (standingGoal.Classement_Evolution < 0 ? 'text-danger' : 'text-warning')"
              class="fa {{ standingGoal.Classement_Evolution > 0 ? 'fa-arrow-up' : (standingGoal.Classement_Evolution < 0 ? 'fa-arrow-down' : 'fa-arrow-right') }}"
              aria-hidden="true"></i>&nbsp; {{ standingGoal.Classement_Evolution > 0 ? ("+" + standingGoal.Classement_Evolution) : (standingGoal.Classement_Evolution
              < 0 ? standingGoal.Classement_Evolution : "&nbsp;") }} </td>
                <td class="col-xs-5">
                  <img ng-if="standingGoal.Pronostiqueurs_Photo" class="standing-photo" ng-src="dist/images/pronostiqueurs/{{standingGoal.Pronostiqueurs_Photo}}"
                    alt="Photo du pronostiqueur">
                    <img ng-if="!standingGoal.Pronostiqueurs_Photo" class="standing-photo" ng-src="dist/images/pronostiqueurs/_inconnu.png" alt="Photo du pronostiqueur">                    &nbsp;{{ standingGoal.Pronostiqueurs_NomUtilisateur }}
                </td>
                <td class="col-xs-4">{{ standingGoal.Classements_PointsGeneralButeur }}</td>
        </tr>
      </tbody>
      <tbody ng-show="ctrl.isFirstWeekSelected">
        <tr ng-repeat="standingGoal in ctrl.standingsService.standingsGoal track by $index">
          <td class="col-xs-1">{{ standingGoal.Classements_ClassementGeneralButeur }}</td>
          <td class="col-xs-7">
            <img ng-if="standingGoal.Pronostiqueurs_Photo" class="standing-photo" ng-src="dist/images/pronostiqueurs/{{standingGoal.Pronostiqueurs_Photo}}"
              alt="Photo du pronostiqueur">
              <img ng-if="!standingGoal.Pronostiqueurs_Photo" class="standing-photo" ng-src="dist/images/pronostiqueurs/_inconnu.png" alt="Photo du pronostiqueur">              &nbsp;{{ standingGoal.Pronostiqueurs_NomUtilisateur }}
          </td>
          <td class="col-xs-4">{{ standingGoal.Classements_PointsGeneralButeur }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
