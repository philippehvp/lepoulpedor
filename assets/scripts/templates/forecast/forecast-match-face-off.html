<div class="col-sm-offset-1 col-sm-10 centered" ng-if="ctrl.forecastService.getCurrentFirstMatch() !== null && ctrl.forecastService.getCurrentFirstMatch() !== undefined && ctrl.forecastService.getCurrentSecondMatch() !== null && ctrl.forecastService.getCurrentSecondMatch() !== undefined">
  <!--Affiche de la confrontation (équipe domicile VS équipe visiteur du match aller)-->
  <!--<div class="row">
    <div class="col-sm-12 centered">
      <h3>{{ctrl.forecastService.getCurrentFirstMatch().EquipesDomicile_Nom}} - {{ctrl.forecastService.getCurrentFirstMatch().EquipesVisiteur_Nom}}</h3>
    </div>
  </div>-->

  <!--Logistique-->
  <div class="row">
    <div class="col-sm-12 centered">
      <h5 class="success">Match et limite de pronostic le {{ctrl.forecastService.matchFirstLimitDateLabel}}</h5>
    </div>
  </div>

  <!--Partie affiche du match aller-->
  <div class="row">
    <!--Equipe domicile-->
    <div class="col-sm-5 centered">
      <h5>{{ctrl.forecastService.getCurrentFirstMatch().EquipesDomicile_Nom}}</h5>
      <div class="col-sm-12">
        <img ng-src="dist/images/equipes/{{ctrl.forecastService.getCurrentFirstMatch().EquipesDomicile_Fanion}}">
      </div>
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <h4>ALLER</h4>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5 centered">
      <h5>{{ctrl.forecastService.getCurrentFirstMatch().EquipesVisiteur_Nom}}</h5>
      <div class="col-sm-12">
        <img ng-src="dist/images/equipes/{{ctrl.forecastService.getCurrentFirstMatch().EquipesVisiteur_Fanion}}">
      </div>
    </div>
  </div>

  <!--Partie cote du match aller-->
  <div class="row">
    <!--Cote équipe domicile-->
    <div class="col-sm-5 centered">
      <span>Cote victoire : {{ctrl.forecastService.getCurrentFirstMatch().Matches_CoteEquipeDomicile}}</span>
    </div>

    <!--Cote du match nul-->
    <div class="col-sm-2 centered">
      <span>Cote du nul : {{ctrl.forecastService.getCurrentFirstMatch().Matches_CoteNul}}</span>
    </div>

    <!--Cote équipe visiteur-->
    <div class="col-sm-5 centered">
      <span>Cote victoire : {{ctrl.forecastService.getCurrentFirstMatch().Matches_CoteEquipeVisiteur}}</span>
    </div>
  </div>

  <!--Score 90' du match aller-->
  <div class="row">
    <!--Equipe domicile-->
    <div class="col-sm-5 right">
      <div class="col-sm-3 col-sm-offset-9">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentFirstMatch().Pronostics_ScoreEquipeDomicile"
                ng-change="ctrl.onChangeScoreFaceOff(0)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentFirstMatch().Pronostics_ScoreEquipeDomicile == score}}"
                  ng-repeat="score in ctrl.forecastService.getScores() track by $index"
                  value="{{score}}">
            {{score}}
          </option>
        </select>
      </div>
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <span>90'</span>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5">
      <div class="col-sm-3">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentFirstMatch().Pronostics_ScoreEquipeVisiteur"
                ng-change="ctrl.onChangeScoreFaceOff(1)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentFirstMatch().Pronostics_ScoreEquipeVisiteur == score}}"
                  ng-repeat="score in ctrl.forecastService.getScores() track by $index"
                  value="{{score}}">
            {{score}}
          </option>
        </select>
      </div>
    </div>
  </div>

  <!--Partie buteurs-->
  <!--Match aller-->
  <div class="row">
    <div class="col-sm-5 right">
      <p ng-if="ctrl.forecastService.getCurrentFirstMatchScorersA().length == 0">Aucun buteur pronostiqué</p>
      <p ng-if="ctrl.forecastService.getCurrentFirstMatchScorersA().length > 0">
        <span class="forecast-scorer"
              ng-repeat="forecastScorer in ctrl.forecastService.getCurrentFirstMatchScorersA() track by $index"
              ng-click="ctrl.onDeleteScorerFaceOff($index, forecastScorer, 0, 0)">
          {{forecastScorer.Joueurs_NomComplet}}{{$last ? '' : ', '}}
        </span>
      </p>
    </div>

    <div class="col-sm-2 centered">
      <button type="button" data-toggle="collapse" data-target="#firstMatchPlayers" class="btn btn-default">Buteurs <span class="glyphicon glyphicon-chevron-down"></span></button>
    </div>

    <div class="col-sm-5 left">
      <p ng-if="ctrl.forecastService.getCurrentFirstMatchScorersB().length == 0">Aucun buteur pronostiqué</p>
      <p ng-if="ctrl.forecastService.getCurrentFirstMatchScorersB().length > 0">
        <span class="forecast-scorer"
              ng-repeat="forecastScorer in ctrl.forecastService.getCurrentFirstMatchScorersB() track by $index"
              ng-click="ctrl.onDeleteScorerFaceOff($index, forecastScorer, 0, 1)">
          {{forecastScorer.Joueurs_NomComplet}}{{$last ? '' : ', '}}
        </span>
      </p>
    </div>
  </div>

  <!--Joueurs du match aller-->
  <div class="collapse players-list" id="firstMatchPlayers">
    <div class="row col-sm-12">
      <div class="col-sm-offset-5 col-sm-2">
        <span class="col-sm-4 forward centered">ATT</span><span class="col-sm-4 midfielder centered">MIL</span><span class="col-sm-4 defender centered">DEF</span>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-5">
        <div class="col-sm-4"
            ng-repeat="player in ctrl.forecastService.getCurrentFirstMatchPlayersA() track by $index"
            ng-click="ctrl.onAddScorerFaceOff(player, 0, 0)">
          <span class="col-sm-10 right nowrap forecast-player">{{player.Joueurs_NomComplet}}</span>
          <span class="col-sm-1 centered player-position player-position-a" ng-class="{'forward': player.Postes_Poste == 4, 'midfielder': player.Postes_Poste == 3, 'defender': player.Postes_Poste == 2}">{{player.JoueursCotes_Cote}}</span>
        </div>
      </div>

      <div class="col-sm-2">
        &nbsp;
      </div>

      <div class="col-sm-5">
        <div class="col-sm-4"
            ng-repeat="player in ctrl.forecastService.getCurrentFirstMatchPlayersB() track by $index"
            ng-click="ctrl.onAddScorerFaceOff(player, 0, 1)">
          <span class="col-sm-1 centered player-position player-position-b" ng-class="{'forward': player.Postes_Poste == 4, 'midfielder': player.Postes_Poste == 3, 'defender': player.Postes_Poste == 2}">{{player.JoueursCotes_Cote}}</span>
          <span class="col-sm-9 left nowrap forecast-player">{{player.Joueurs_NomComplet}}</span>
        </div>
      </div>
    </div>
  </div>

  <hr>

  <!--Partie affiche du match retour-->
  <div class="row col-sm-12 centered">
    <h5><span class="success">Match le {{ctrl.forecastService.matchSecondLimitDateLabel}}</span><span class="danger"> (pronostic avant le {{ctrl.forecastService.matchFirstLimitDateLabel}})</span></h5>
  </div>

  <div class="row">
    <!--Equipe domicile-->
    <div class="col-sm-5 centered">
      <h5>{{ctrl.forecastService.getCurrentSecondMatch().EquipesDomicile_Nom}}</h5>
      <div class="col-sm-12">
        <img ng-src="dist/images/equipes/{{ctrl.forecastService.getCurrentSecondMatch().EquipesDomicile_Fanion}}">
      </div>
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <h4>RETOUR</h4>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5 centered">
      <h5>{{ctrl.forecastService.getCurrentSecondMatch().EquipesVisiteur_Nom}}</h5>
      <div class="col-sm-12">
        <img ng-src="dist/images/equipes/{{ctrl.forecastService.getCurrentSecondMatch().EquipesVisiteur_Fanion}}">
      </div>
    </div>
  </div>

    <!--Partie cote du match retour-->
  <div class="row">
    <!--Cote équipe domicile-->
    <div class="col-sm-5 centered">
      <span>Cote victoire : {{ctrl.forecastService.getCurrentSecondMatch().Matches_CoteEquipeDomicile}}</span>
    </div>

    <!--Cote du match nul-->
    <div class="col-sm-2 centered">
      <span>Cote du nul : {{ctrl.forecastService.getCurrentSecondMatch().Matches_CoteNul}}
      </span>
    </div>

    <!--Cote équipe visiteur-->
    <div class="col-sm-5 centered">
      <span>Cote victoire : {{ctrl.forecastService.getCurrentSecondMatch().Matches_CoteEquipeVisiteur}}
      </span>
    </div>
  </div>

  <!--Partie points de qualification match retour-->
  <div class="row">
    <!--Points qualification équipe domicile-->
    <div class="col-sm-5 centered">
      <span>
          Points qualification : {{ctrl.forecastService.getCurrentSecondMatch().Matches_PointsQualificationEquipeDomicile}}
      </span>
    </div>

    <!--Pas de points de qualification pour le match nul bien entendu-->
    <div class="col-sm-2 centered">
    </div>

    <!--Points qualification équipe visiteur-->
    <div class="col-sm-5 centered">
      <span>
          Points qualification : {{ctrl.forecastService.getCurrentSecondMatch().Matches_PointsQualificationEquipeVisiteur}}
      </span>
    </div>
  </div>

  <!--Spécificité des confrontations directes avec le score aller et retour dans la même page-->
  <!--Modifiables sur le match aller et seulement en affichage sur le match retour-->

  <!--Score 90'-->
  <div class="row">
    <!--Equipe domicile-->
    <div class="col-sm-5 right">
      <div class="col-sm-3 col-sm-offset-9">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreEquipeDomicile"
                ng-change="ctrl.onChangeScoreFaceOff(2)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreEquipeDomicile == score}}"
                  ng-repeat="score in ctrl.forecastService.getScores() track by $index"
                  value="{{score}}">
            {{score}}
          </option>
        </select>
      </div>
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <span>90'</span>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5">
      <div class="col-sm-3">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreEquipeVisiteur"
                ng-change="ctrl.onChangeScoreFaceOff(3)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreEquipeVisiteur == score}}"
                  ng-repeat="score in ctrl.forecastService.getScores() track by $index"
                  value="{{score}}">
            {{score}}
          </option>
        </select>
      </div>
    </div>
  </div>

  <!--Score AP-->
  <div class="row" ng-if="ctrl.forecastService.displayScoresExtra">
    <!--Equipe domicile-->
    <div class="col-sm-5 right">
      <div class="col-sm-3 col-sm-offset-9">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreAPEquipeDomicile"
                ng-change="ctrl.onChangeScoreFaceOff(4)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreAPEquipeDomicile == score}}"
                  ng-repeat="score in ctrl.forecastService.getScoresExtraA() track by $index"
                  value="{{score}}">
            {{score}}
          </option>
        </select>
      </div>
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <span>AP</span>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5">
      <div class="col-sm-3">
        <select class="form-control"
                ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreAPEquipeVisiteur"
                ng-change="ctrl.onChangeScoreFaceOff(5)"
                ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
          <option ng-selected="{{ctrl.forecastService.getCurrentSecondMatch().Pronostics_ScoreAPEquipeVisiteur == score}}"
                  ng-repeat="score in ctrl.forecastService.getScoresExtraB() track by $index"
                  value="{{score}}">
                {{score}}
          </option>
        </select>
      </div>
    </div>
  </div>

  <!--TAB-->
  <div class="row" ng-if="ctrl.forecastService.displayShooting">
    <!--Equipe domicile-->
    <div class="col-sm-5 right">
      <label class="radio-inline">
        {{ctrl.forecastService.getCurrentSecondMatch().EquipesDomicile_Nom}}
      </label>
      <input type="radio"
             name="shooting"
             id="shootingA"
             value="1"
             ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur"
             ng-change="ctrl.onChangeScoreFaceOff(6)"
             ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
    </div>

    <!--Partie centrale-->
    <div class="col-sm-2 centered">
      <span class="label"
            ng-class="{'label-success': ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur == '1' || ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur == '2', 'label-danger': ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur != '1' && ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur != '2'}">
        TAB
      </span>
    </div>

    <!--Equipe visiteur-->
    <div class="col-sm-5 left">
      <input type="radio"
             name="shooting"
             id="shootingB"
             value="2"
             ng-model="ctrl.forecastService.getCurrentSecondMatch().Pronostics_Vainqueur"
             ng-change="ctrl.onChangeScoreFaceOff(6)"
             ng-disabled="ctrl.forecastService.isOver(ctrl.forecastService.getCurrentFirstMatch().Matches_Date)">
      <label class="radio-inline">
        {{ctrl.forecastService.getCurrentSecondMatch().EquipesVisiteur_Nom}}
      </label>
    </div>
  </div>

  <!--Match retour-->
  <div class="row">
    <!--Buteurs domicile-->
    <div class="col-sm-5 right">
      <p ng-if="ctrl.forecastService.getCurrentSecondMatchScorersA().length == 0">Aucun buteur pronostiqué</p>
      <p ng-if="ctrl.forecastService.getCurrentSecondMatchScorersA().length > 0">
        <span class="forecast-scorer"
              ng-repeat="forecastScorer in ctrl.forecastService.getCurrentSecondMatchScorersA() track by $index"
              ng-click="ctrl.onDeleteScorerFaceOff($index, forecastScorer, 1, 0)">
            {{forecastScorer.Joueurs_NomComplet}}{{$last ? '' : ', '}}
        </span>
      </p>
    </div>

    <div class="col-sm-2 centered">
      <button type="button" data-toggle="collapse" data-target="#secondMatchPlayers" class="btn btn-default">Buteurs <span class="glyphicon glyphicon-chevron-down"></span></button>
    </div>

    <!--Buteurs visiteur-->
    <div class="col-sm-5 left">
      <p ng-if="ctrl.forecastService.getCurrentSecondMatchScorersB().length == 0">Aucun buteur pronostiqué</p>
      <p ng-if="ctrl.forecastService.getCurrentSecondMatchScorersB().length > 0">
        <span class="forecast-scorer"
              ng-repeat="forecastScorer in ctrl.forecastService.getCurrentSecondMatchScorersB() track by $index"
              ng-click="ctrl.onDeleteScorerFaceOff($index, forecastScorer, 1, 1)">
            {{forecastScorer.Joueurs_NomComplet}}{{$last ? '' : ', '}}
        </span>
      </p>
    </div>
  </div>

  <!--Joueurs du match retour-->
  <div class="collapse players-list" id="secondMatchPlayers">
    <div class="row col-sm-12">
      <div class="col-sm-offset-5 col-sm-2">
        <span class="col-sm-4 forward centered">ATT</span><span class="col-sm-4 midfielder centered">MIL</span><span class="col-sm-4 defender centered">DEF</span>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-5">
        <div class="col-sm-4"
            ng-repeat="player in ctrl.forecastService.getCurrentSecondMatchPlayersA() track by $index"
            ng-click="ctrl.onAddScorerFaceOff(player, 1, 0)">
          <span class="col-sm-10 right nowrap forecast-player">{{player.Joueurs_NomComplet}}</span>
          <span class="col-sm-1 centered player-position player-position-a" ng-class="{'forward': player.Postes_Poste == 4, 'midfielder': player.Postes_Poste == 3, 'defender': player.Postes_Poste == 2}">{{player.JoueursCotes_Cote}}</span>
        </div>
      </div>

      <div class="col-sm-2">
        &nbsp;
      </div>

      <div class="col-sm-5">
        <div class="col-sm-4"
            ng-repeat="player in ctrl.forecastService.getCurrentSecondMatchPlayersB() track by $index"
            ng-click="ctrl.onAddScorerFaceOff(player, 1, 1)">
          <span class="col-sm-1 centered player-position player-position-b" ng-class="{'forward': player.Postes_Poste == 4, 'midfielder': player.Postes_Poste == 3, 'defender': player.Postes_Poste == 2}">{{player.JoueursCotes_Cote}}</span>
          <span class="col-sm-9 left nowrap forecast-player">{{player.Joueurs_NomComplet}}</span>
        </div>
      </div>
    </div>
  </div>
</div>
